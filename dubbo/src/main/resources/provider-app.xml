<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://code.alibabatech.com/schema/dubbo 
       http://code.alibabatech.com/schema/dubbo/dubbo.xsd">

    <dubbo:application name="demo-provider" version="1.0"/>
    <!--使用网络广播的形式注册-->
    <dubbo:registry address="multicast://224.1.1.1:9090"/>
    <!--使用zookeeper以集群方式运行-->
    <!--<dubbo:registry address="zookeeper://127.0.0.1:2181"/>-->

    <dubbo:protocol name="dubbo" port="20880" accepts="1000"/>
    <!--<dubbo:protocol name="rmi" port="20890"/>-->


    <bean id="greetingService" class="cn.windylee.dubbo.impl.GreetingServiceImpl"/>
    <!--可以通过不同的协议暴露不同的服务， 通过cluster属性设置容错方式-->
    <!--主要的容错方式 fail-over，fail-safe，fail-fast，fail-back，forking.-->
    <dubbo:service interface="cn.windylee.dubbo.GreetingService" ref="greetingService"
        protocol="dubbo" cluster="failover"/>

</beans>